{% extends 'inventario/index.html'%} {% block contenido %} {% load static %}

<div class="loader-wrapper">
    <div class="loader"></div>
</div>

<h2>Entrada de Productos</h2>
<hr>

<div class=" ">
    <div class="col mb-2 d-flex justify-content-center">
        <a class="btn buttons fw-bold mx-2" href="{% url 'proveedores' %}"><i class="fa-solid fa-circle-plus"></i>
            Crear Proveedor
        </a>
        <a class="btn buttons fw-bold mx-2" href="{% url 'productos' %}"><i class="fa-solid fa-circle-plus"></i>
            Crear Producto
        </a>
    </div>
</div>


<div class="row justify-content-center mx-2">
    <div class="col mb-2">
        <select name="proveedor" id="cbProveedor" class="form-select">
            <option value="">Selecciona un proveedor</option>
            {% for proveedor in proveedores %}
            <option value="{{ proveedor.id }}">{{ proveedor.nombre_empresa}}</option>
            {% endfor %}
        </select>
    </div>
    <div class="col mb-2">
        <select id="cbProducto" name="producto_id" class="form-select">
            <option value="">Selecciona un producto</option>
            {% for producto in productos %}
            <option data-proveedor="{{ producto.proveedor_id }}" value="{{ producto.id }}">{{ producto.nombre }}
            </option>
            {% endfor %}
        </select>
    </div>
</div>


<div class="row justify-content-center mx-2">
    <div class="col mb-2">
        <input type="number" id="txtCantidad" name="cantidad" placeholder="cantidad" class="form-control" min="0">
    </div>
    <div class="col mb-2">
        <input type="number" id="txtPrecio" name="precio" placeholder="Precio por Unidad" class="form-control" min="0">
    </div>
</div>


<div class="row mx-2 mb-2">
    <div class="col d-flex justify-content-center">
        <button id="agregar-producto" class="btn buttons fw-bold">
            Agregar a la tabla
        </button>
    </div>
</div>

<hr>

<div class="d-flex justify-content-center ">
    <div class="col-10">
        <table id="productos-seleccionados" class="display" style="width: 100%;">
            <thead>
                <tr>
                    <th>Producto</th>
                    <th>Precio Unitario</th>
                    <th>Cantidad</th>
                    <th>Subtotal</th>
                    <th>Acciones</th>
                </tr>
            </thead>
            <tbody>
                <!-- Aquí se mostrarán los productos seleccionados -->
            </tbody>
        </table>
    </div>
</div>

<div class="d-flex justify-content-center">
    <p>
        Total: <span id="total"></span>
    </p>
</div>


<div class="row mx-2">
    <div class="col d-flex justify-content-center mt-3">
        <button id="crear-entrada" type="button" class="btn buttons mx-1 mt-3 fw-bold">Crear entrada</button>
    </div>
    <div class="col d-flex justify-content-center mt-3">
        <button id="cancelar-entrada" type="button" class="btn buttons mx-1 mt-3 fw-bold">Cancelar entrada</button>
    </div>
</div>
<hr>
<script src="{% static 'js/entrada.js' %}"></script>
{% endblock %}